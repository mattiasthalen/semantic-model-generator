# Requirements Archive: v0.1.0 MVP

**Archived:** 2026-02-10
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements

## Table Stakes

Must-haves for v1.0 launch. Missing = product feels incomplete.

| REQ | Requirement | Priority |
|-----|-------------|----------|
| REQ-01 | Connect to Fabric warehouse via mssql-python with token auth | P0 |
| REQ-02 | Read INFORMATION_SCHEMA.COLUMNS for user-specified schemas (no defaults) | P0 |
| REQ-03 | Filter tables by include list and/or exclude list | P0 |
| REQ-04 | Classify tables by key column count: 1 key = dimension, 2+ keys = fact | P0 |
| REQ-05 | Key prefixes are user-supplied parameters, no defaults | P0 |
| REQ-06 | Infer star-schema relationships (fact *:1 dimension) via matching key columns | P0 |
| REQ-07 | Support role-playing dimensions (same dim referenced multiple times with different roles) | P0 |
| REQ-08 | First role-playing relationship active, subsequent ones inactive | P0 |
| REQ-09 | Support exact-match prefixes that bypass role-playing pattern | P0 |
| REQ-10 | Generate complete TMDL folder structure (database, model, expressions, relationships, per-table files) | P0 |
| REQ-11 | Generate DirectLake partition definitions | P0 |
| REQ-12 | Generate deterministic UUIDs for stable IDs across regenerations | P0 |
| REQ-13 | Preserve manually-maintained tables/relationships (watermark-based detection) | P0 |
| REQ-14 | Output mode: write TMDL to folder (dry run) at /lakehouse/default/Files/[MODEL_NAME] | P0 |
| REQ-15 | Output mode: push to Fabric via REST API with LRO polling | P0 |
| REQ-16 | Discover Direct Lake URL: user supplies workspace (name or GUID) + warehouse/lakehouse (name or GUID), library resolves full GUID-based URL | P0 |
| REQ-17 | Generate diagram layout JSON | P1 |
| REQ-18 | Generate .platform and definition.pbism metadata files | P0 |

## Features

Differentiators and quality requirements.

| REQ | Requirement | Priority |
|-----|-------------|----------|
| REQ-20 | Distributed as PyPI package | P0 |
| REQ-21 | Dynamic versioning based on git tags (setuptools-scm) | P0 |
| REQ-22 | Functional programming style throughout (no classes unless strictly necessary) | P0 |
| REQ-23 | TDD — tests written before implementation | P0 |
| REQ-24 | Linting via make lint (ruff) | P0 |
| REQ-25 | Type checking via make typecheck (mypy) | P0 |
| REQ-26 | Testing via make test (pytest) | P0 |
| REQ-27 | make check runs lint + typecheck + test | P0 |
| REQ-28 | Pre-commit hook runs make check and validates commit message format | P0 |
| REQ-29 | Filter views from schema discovery (only BASE TABLE, not views) | P0 |
| REQ-30 | Validate TMDL whitespace (tabs not spaces) and identifier quoting | P0 |
| REQ-31 | SQL type to TMDL type mapping | P0 |
| REQ-32 | Configurable locale for expressions (default English, not hardcoded Swedish) | P1 |
| REQ-33 | Generate deterministic, sorted output for stable Git diffs | P0 |
| REQ-34 | Dev deployment mode: always create new semantic model, name suffixed with current UTC timestamp | P0 |
| REQ-35 | Prod deployment mode: overwrite existing model, requires explicit confirmation parameter (no interactive prompts — notebook-friendly) | P0 |

## Out of Scope

| Item | Rationale |
|------|-----------|
| Auto-generated DAX measures from column prefixes | User decision — measure__ convention dropped |
| CLI interface | Library used in Fabric notebooks, not command-line tool |
| GUI or web interface | Python library in notebooks = code-based config is native |
| Support for non-Fabric data sources | Single warehouse target |
| Import mode | Only DirectLake |
| Business-friendly naming (remove prefixes, Title Case) | Deferred to v1.x — nice to have but not blocking |
| Smart column exclusion (hide technical columns) | Deferred to v1.x |
| Relationship confidence scoring | Deferred to v1.x |
| Calculation group scaffolding | Deferred to v2+ |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| REQ-01 | Phase 3 | Pending |
| REQ-02 | Phase 3 | Pending |
| REQ-03 | Phase 3 | Pending |
| REQ-04 | Phase 3 | Pending |
| REQ-05 | Phase 3 | Pending |
| REQ-06 | Phase 4 | Pending |
| REQ-07 | Phase 4 | Pending |
| REQ-08 | Phase 4 | Pending |
| REQ-09 | Phase 4 | Pending |
| REQ-10 | Phase 5 | Pending |
| REQ-11 | Phase 5 | Pending |
| REQ-12 | Phase 2 | Pending |
| REQ-13 | Phase 6 | Pending |
| REQ-14 | Phase 6 | Pending |
| REQ-15 | Phase 7 | Pending |
| REQ-16 | Phase 7 | Pending |
| REQ-17 | Phase 5 | Pending |
| REQ-18 | Phase 5 | Pending |
| REQ-20 | Phase 1 | Pending |
| REQ-21 | Phase 1 | Pending |
| REQ-22 | Phase 1 | Pending |
| REQ-23 | Phase 1 | Pending |
| REQ-24 | Phase 1 | Pending |
| REQ-25 | Phase 1 | Pending |
| REQ-26 | Phase 1 | Pending |
| REQ-27 | Phase 1 | Pending |
| REQ-28 | Phase 1 | Pending |
| REQ-29 | Phase 3 | Pending |
| REQ-30 | Phase 2 | Pending |
| REQ-31 | Phase 2 | Pending |
| REQ-32 | Phase 5 | Pending |
| REQ-33 | Phase 5 | Pending |
| REQ-34 | Phase 7 | Pending |
| REQ-35 | Phase 7 | Pending |

---
*Last updated: 2026-02-09*
